#!/bin/bash

# LieferMax WordPress - Interaktive Setup-Anleitung
# FÃ¼hrt Sie durch alle Schritte nach der WordPress-Installation

set -e

# Farben fÃ¼r Output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo -e "${BLUE}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${BLUE}â•‘     LieferMax WordPress - Setup Assistent                 â•‘${NC}"
echo -e "${BLUE}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

# Step 1: Check
echo -e "${GREEN}âœ“ Step 1: WordPress installiert${NC}"
echo ""

# Step 2: Theme aktivieren
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}Step 2: Theme aktivieren${NC}"
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "Bitte folgende Schritte im Browser durchfÃ¼hren:"
echo ""
echo "1. WordPress Admin Ã¶ffnen:"
echo -e "   ${GREEN}http://localhost:8080/wp-admin${NC}"
echo ""
echo "2. Einloggen mit Ihren Zugangsdaten"
echo ""
echo "3. Theme aktivieren:"
echo "   Dashboard â†’ Design â†’ Themes"
echo "   â†’ 'LieferMax Redesign' suchen"
echo "   â†’ 'Aktivieren' klicken"
echo ""
read -p "DrÃ¼cken Sie Enter wenn Theme aktiviert ist..."
echo -e "${GREEN}âœ“ Theme aktiviert${NC}"
echo ""

# Step 3: XML Import
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}Step 3: WordPress XML importieren${NC}"
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "1. WordPress Importer installieren:"
echo "   Dashboard â†’ Werkzeuge â†’ Daten importieren"
echo "   â†’ 'WordPress' â†’ 'Jetzt installieren'"
echo "   â†’ 'Importer ausfÃ¼hren'"
echo ""
echo "2. XML-Datei hochladen:"
echo "   â†’ 'Datei auswÃ¤hlen'"
echo -e "   â†’ Datei: ${GREEN}client_input/liefermaxgfghlieferscheinfahrerverkaufssystem.WordPress.2026-02-05.xml${NC}"
echo "   â†’ 'Datei hochladen und importieren'"
echo ""
echo "3. Import-Optionen:"
echo "   â†’ Autor zuweisen: 'admin'"
echo "   â†’ âœ“ 'DateianhÃ¤nge herunterladen und importieren'"
echo "   â†’ 'Absenden'"
echo ""
echo -e "${YELLOW}â³ Import kann 1-2 Minuten dauern...${NC}"
echo ""
read -p "DrÃ¼cken Sie Enter wenn Import abgeschlossen ist..."
echo -e "${GREEN}âœ“ XML importiert (17 Seiten)${NC}"
echo ""

# Step 4: Permalinks
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}Step 4: Permalinks konfigurieren${NC}"
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "Dashboard â†’ Einstellungen â†’ Permalinks"
echo "â†’ 'Beitragsname' auswÃ¤hlen"
echo "â†’ 'Ã„nderungen speichern'"
echo ""
read -p "DrÃ¼cken Sie Enter wenn Permalinks gesetzt sind..."
echo -e "${GREEN}âœ“ Permalinks konfiguriert${NC}"
echo ""

# Step 5: MenÃ¼s
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}Step 5: MenÃ¼s erstellen${NC}"
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "1. HauptmenÃ¼ erstellen:"
echo "   Dashboard â†’ Design â†’ MenÃ¼s"
echo "   â†’ 'Neues MenÃ¼ erstellen'"
echo "   â†’ Name: 'HauptmenÃ¼'"
echo ""
echo "2. Seiten hinzufÃ¼gen:"
echo "   â†’ LieferMax"
echo "   â†’ LieferMax-CHECK"
echo "   â†’ LieferMax-MAP"
echo "   â†’ ShopWare & WooCommerce"
echo "   â†’ Bestell App"
echo "   â†’ Kontakt"
echo ""
echo "3. Position festlegen:"
echo "   â†’ 'Primary Menu' aktivieren"
echo "   â†’ 'MenÃ¼ speichern'"
echo ""
read -p "DrÃ¼cken Sie Enter wenn MenÃ¼ erstellt ist..."
echo -e "${GREEN}âœ“ MenÃ¼s konfiguriert${NC}"
echo ""

# Step 6: Logo
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}Step 6: Logo hochladen${NC}"
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "Dashboard â†’ Design â†’ Customizer"
echo "â†’ 'Website-IdentitÃ¤t'"
echo "â†’ 'Logo auswÃ¤hlen'"
echo "â†’ 'Datei hochladen'"
echo -e "â†’ Datei: ${GREEN}wordpress-theme/assets/images/logo.png${NC}"
echo "â†’ GrÃ¶ÃŸe anpassen (ca. 50px HÃ¶he)"
echo "â†’ 'VerÃ¶ffentlichen'"
echo ""
read -p "DrÃ¼cken Sie Enter wenn Logo hochgeladen ist..."
echo -e "${GREEN}âœ“ Logo konfiguriert${NC}"
echo ""

# Step 7: ngrok
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}Step 7: ngrok fÃ¼r Demo starten${NC}"
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

# Check if ngrok is installed
if command -v ngrok &> /dev/null; then
    echo -e "${GREEN}âœ“ ngrok ist installiert${NC}"
    echo ""
    echo "Starte ngrok in neuem Terminal-Fenster..."
    echo ""
    echo -e "${YELLOW}FÃ¼hren Sie in einem NEUEN Terminal aus:${NC}"
    echo -e "${GREEN}ngrok http 8080${NC}"
    echo ""
    echo "Notieren Sie die Forwarding-URL:"
    echo "z.B. https://abc123.ngrok.io"
    echo ""
    read -p "DrÃ¼cken Sie Enter wenn ngrok lÃ¤uft..."
    echo ""
    echo "WordPress URLs anpassen:"
    echo "Dashboard â†’ Einstellungen â†’ Allgemein"
    echo "â†’ WordPress-Adresse (URL): [Ihre ngrok-URL]"
    echo "â†’ Website-Adresse (URL): [Ihre ngrok-URL]"
    echo "â†’ 'Ã„nderungen speichern'"
    echo ""
    read -p "DrÃ¼cken Sie Enter wenn URLs angepasst sind..."
    echo -e "${GREEN}âœ“ ngrok konfiguriert${NC}"
else
    echo -e "${RED}âœ— ngrok ist nicht installiert${NC}"
    echo ""
    echo "Installieren Sie ngrok:"
    echo "1. Download: https://ngrok.com/download"
    echo "2. Oder via snap: sudo snap install ngrok"
    echo ""
    echo "Dann in neuem Terminal:"
    echo -e "${GREEN}ngrok http 8080${NC}"
    echo ""
    read -p "DrÃ¼cken Sie Enter um fortzufahren..."
fi
echo ""

# Step 8: Tests
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}Step 8: Tests durchfÃ¼hren${NC}"
echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "Ã–ffnen Sie die Test-Suite:"
echo -e "${GREEN}cat tests/test-suite.md${NC}"
echo ""
echo "Testen Sie:"
echo "1. Content vollstÃ¤ndig (alle 17 Seiten)"
echo "2. Design schlicht mit Rot-Akzent"
echo "3. Logo auf allen Seiten"
echo "4. Responsive (Mobile, Tablet, Desktop)"
echo "5. Browser-kompatibel"
echo "6. Performance (Lighthouse)"
echo ""
read -p "DrÃ¼cken Sie Enter wenn Tests abgeschlossen sind..."
echo -e "${GREEN}âœ“ Tests durchgefÃ¼hrt${NC}"
echo ""

# Fertig
echo -e "${GREEN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${GREEN}â•‘                    âœ“ SETUP ABGESCHLOSSEN                  â•‘${NC}"
echo -e "${GREEN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""
echo -e "${BLUE}Ihre WordPress-Site ist bereit!${NC}"
echo ""
echo "Demo-Link fÃ¼r Kunde:"
echo -e "${GREEN}[Ihre ngrok-URL]${NC}"
echo ""
echo "NÃ¤chste Schritte:"
echo "1. Demo-Link an Kunde senden"
echo "2. Feedback sammeln"
echo "3. Anpassungen machen"
echo "4. Zu Ionos/Kunden-Server deployen"
echo ""
echo -e "${YELLOW}Viel Erfolg! ğŸš€${NC}"
