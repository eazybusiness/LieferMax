---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getEntry } from 'astro:content';

const pageData = await getEntry('pages', 'contact');
---

<BaseLayout 
    title={pageData.data.title}
    description={pageData.data.description}
>
    <!-- Hero Section -->
    <section class="gradient-bg pt-32 pb-20 px-4">
        <div class="max-w-7xl mx-auto text-center text-white">
            <h1 class="text-5xl md:text-6xl font-black mb-6">{pageData.data.heroTitle}</h1>
            <p class="text-xl text-gray-100 max-w-3xl mx-auto">
                {pageData.data.heroSubtitle}
            </p>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="py-24 px-4 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="grid lg:grid-cols-2 gap-16">
                <!-- Contact Information -->
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-8">Kontaktinformationen</h2>
                    
                    <div class="space-y-6 mb-12">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-map-marker-alt text-red-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">Adresse</h3>
                                <p class="text-gray-600">An der Leiten 4</p>
                                <p class="text-gray-600">D-87672 Roßhaupten</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-phone text-red-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">Telefon</h3>
                                <a href="tel:+4983679139187" class="text-red-600 hover:text-red-700 font-semibold">
                                    08367 – 91 39 187
                                </a>
                            </div>
                        </div>
                        
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-envelope text-red-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">E-Mail</h3>
                                <a href="mailto:info@liefermax.com" class="text-red-600 hover:text-red-700 font-semibold">
                                    info@liefermax.com
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Map -->
                    <div class="rounded-2xl overflow-hidden shadow-lg h-96">
                        <iframe 
                            src="https://www.openstreetmap.org/export/embed.html?bbox=10.6956%2C47.6337%2C10.7356%2C47.6737&layer=mapnik&marker=47.6537%2C10.7156"
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            loading="lazy">
                        </iframe>
                    </div>
                </div>

                <!-- Contact Form -->
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-8">Nachricht senden</h2>
                    
                    <form action="/assets/php/contact-form.php" method="POST" class="space-y-6">
                        <div>
                            <label for="name" class="block text-gray-700 font-semibold mb-2">Name *</label>
                            <input 
                                type="text" 
                                id="name" 
                                name="name" 
                                required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="Ihr Name"
                            >
                        </div>

                        <div>
                            <label for="email" class="block text-gray-700 font-semibold mb-2">E-Mail *</label>
                            <input 
                                type="email" 
                                id="email" 
                                name="email" 
                                required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="ihre@email.de"
                            >
                        </div>

                        <div>
                            <label for="phone" class="block text-gray-700 font-semibold mb-2">Telefon</label>
                            <input 
                                type="tel" 
                                id="phone" 
                                name="phone" 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="Ihre Telefonnummer"
                            >
                        </div>

                        <div>
                            <label for="company" class="block text-gray-700 font-semibold mb-2">Firma</label>
                            <input 
                                type="text" 
                                id="company" 
                                name="company" 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="Ihr Firmenname"
                            >
                        </div>

                        <div>
                            <label for="message" class="block text-gray-700 font-semibold mb-2">Nachricht *</label>
                            <textarea 
                                id="message" 
                                name="message" 
                                required 
                                rows="6" 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
                                placeholder="Ihre Nachricht an uns..."
                            ></textarea>
                        </div>

                        <!-- Honeypot field for spam prevention -->
                        <input type="text" name="website" style="display:none" tabindex="-1" autocomplete="off">

                        <button 
                            type="submit" 
                            class="w-full gradient-bg text-white px-8 py-4 rounded-lg font-bold text-lg hover:shadow-2xl transition transform hover:scale-105"
                        >
                            <i class="fas fa-paper-plane mr-2"></i>Nachricht senden
                        </button>

                        <p class="text-sm text-gray-500 text-center">
                            * Pflichtfelder
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </section>
</BaseLayout>
